@{
    ViewData["Title"] = "Sıcaklık Dönüştürücü";
}

<h4 class="py-3 mb-4">
    <span class="text-muted fw-light">Hesaplayıcılar /</span> Sıcaklık Dönüştürücü
</h4>

<div class="row justify-content-center">
    <div class="col-md-6 col-lg-5">
        <div class="card">
            <div class="card-header">
                <h5 class="mb-0">
                    <i class="bx bx-thermometer text-danger me-2"></i>Sıcaklık Dönüştürücü
                </h5>
            </div>
            <div class="card-body">
                <!-- Sıcaklık Değeri -->
                <div class="mb-3">
                    <label for="value" class="form-label">Sıcaklık Değeri</label>
                    <input type="number" class="form-control form-control-lg" id="value"
                           placeholder="Örnek: 25" aria-label="Sıcaklık değeri">
                </div>

                <!-- Kaynak Birim -->
                <div class="mb-3">
                    <label for="fromUnit" class="form-label">Bu Birimden</label>
                    <select class="form-select" id="fromUnit">
                        <option value="celsius">Celsius (C)</option>
                        <option value="fahrenheit">Fahrenheit (F)</option>
                        <option value="kelvin">Kelvin (K)</option>
                    </select>
                </div>

                <!-- Hedef Birim -->
                <div class="mb-3">
                    <label for="toUnit" class="form-label">Bu Birime</label>
                    <select class="form-select" id="toUnit">
                        <option value="fahrenheit">Fahrenheit (F)</option>
                        <option value="celsius">Celsius (C)</option>
                        <option value="kelvin">Kelvin (K)</option>
                    </select>
                </div>

                <!-- Dönüştür Butonu -->
                <button class="btn btn-primary w-100 mb-3" onclick="convert()">
                    <i class="bx bx-transfer me-1"></i> Dönüştür
                </button>

                <!-- Sonuç -->
                <div id="result" class="alert alert-info text-center d-none" role="alert" aria-live="polite">
                    <span class="h4 mb-0"></span>
                </div>
            </div>
        </div>

        <!-- Hızlı Referans -->
        <div class="card mt-4">
            <div class="card-header">
                <h6 class="mb-0">Hızlı Referans</h6>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-sm">
                        <thead>
                            <tr>
                                <th>Açıklama</th>
                                <th>Celsius</th>
                                <th>Fahrenheit</th>
                                <th>Kelvin</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Su Donma Noktası</td>
                                <td>0</td>
                                <td>32</td>
                                <td>273.15</td>
                            </tr>
                            <tr>
                                <td>Oda Sıcaklığı</td>
                                <td>20</td>
                                <td>68</td>
                                <td>293.15</td>
                            </tr>
                            <tr>
                                <td>Vücut Sıcaklığı</td>
                                <td>37</td>
                                <td>98.6</td>
                                <td>310.15</td>
                            </tr>
                            <tr>
                                <td>Su Kaynama Noktası</td>
                                <td>100</td>
                                <td>212</td>
                                <td>373.15</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Formüller -->
        <div class="card mt-4">
            <div class="card-header">
                <h6 class="mb-0">Dönüşüm Formülleri</h6>
            </div>
            <div class="card-body">
                <ul class="list-unstyled mb-0">
                    <li class="mb-2">
                        <strong>Celsius -> Fahrenheit:</strong>
                        <code class="ms-2">F = (C x 9/5) + 32</code>
                    </li>
                    <li class="mb-2">
                        <strong>Celsius -> Kelvin:</strong>
                        <code class="ms-2">K = C + 273.15</code>
                    </li>
                    <li class="mb-2">
                        <strong>Fahrenheit -> Celsius:</strong>
                        <code class="ms-2">C = (F - 32) x 5/9</code>
                    </li>
                    <li>
                        <strong>Kelvin -> Celsius:</strong>
                        <code class="ms-2">C = K - 273.15</code>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>

@section PageScripts {
<script>
    function convert() {
        const value = parseFloat(document.getElementById('value').value);
        const from = document.getElementById('fromUnit').value;
        const to = document.getElementById('toUnit').value;
        const resultDiv = document.getElementById('result');

        if (isNaN(value)) {
            resultDiv.className = 'alert alert-danger text-center';
            resultDiv.innerHTML = '<i class="bx bx-error me-1"></i> Lütfen geçerli bir sayı giriniz!';
            resultDiv.classList.remove('d-none');
            return;
        }

        let result;
        let unit;

        // Dönüşüm işlemleri
        if (from === 'celsius') {
            if (to === 'fahrenheit') {
                result = (value * 9/5) + 32;
                unit = 'F';
            } else if (to === 'kelvin') {
                result = value + 273.15;
                unit = 'K';
            } else {
                result = value;
                unit = 'C';
            }
        }

        if (from === 'fahrenheit') {
            if (to === 'celsius') {
                result = (value - 32) * 5/9;
                unit = 'C';
            } else if (to === 'kelvin') {
                result = (value - 32) * 5/9 + 273.15;
                unit = 'K';
            } else {
                result = value;
                unit = 'F';
            }
        }

        if (from === 'kelvin') {
            if (to === 'celsius') {
                result = value - 273.15;
                unit = 'C';
            } else if (to === 'fahrenheit') {
                result = (value - 273.15) * 9/5 + 32;
                unit = 'F';
            } else {
                result = value;
                unit = 'K';
            }
        }

        resultDiv.className = 'alert alert-success text-center';
        resultDiv.innerHTML = `<span class="h4 mb-0">${result.toFixed(2)} ${unit}</span>`;
        resultDiv.classList.remove('d-none');
    }
</script>
}
